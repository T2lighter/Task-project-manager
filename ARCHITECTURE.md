# ä¸ªäººä»»åŠ¡ç®¡ç†Webåº”ç”¨ - å®Œæ•´æ¶æ„è®¾è®¡æ–‡æ¡£

## 1. é¡¹ç›®æ¦‚è¿°

### 1.1 é¡¹ç›®ç®€ä»‹
ä¸ªäººä»»åŠ¡ç®¡ç†Webåº”ç”¨æ˜¯ä¸€ä¸ªåŸºäºç°ä»£å‰åç«¯åˆ†ç¦»æ¶æ„çš„ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨è‰¾æ£®è±ªå¨å°”çŸ©é˜µï¼ˆå››è±¡é™æ³•åˆ™ï¼‰å¸®åŠ©ç”¨æˆ·é«˜æ•ˆç®¡ç†ä¸ªäººä»»åŠ¡ã€‚ç³»ç»Ÿæä¾›äº†ä¸°å¯Œçš„æ•°æ®å¯è§†åŒ–åŠŸèƒ½ã€é¡¹ç›®ç®¡ç†ã€ç”˜ç‰¹å›¾å±•ç¤ºå’Œå¤šç§ä»»åŠ¡ç®¡ç†è§†å›¾ï¼Œæ—¨åœ¨æå‡ä¸ªäººå·¥ä½œæ•ˆç‡å’Œæ—¶é—´ç®¡ç†èƒ½åŠ›ã€‚

### 1.2 æ ¸å¿ƒä»·å€¼
- **ç§‘å­¦çš„ä»»åŠ¡åˆ†ç±»**ï¼šåŸºäºè‰¾æ£®è±ªå¨å°”çŸ©é˜µçš„å››è±¡é™åˆ†ç±»æ³•
- **å®Œæ•´çš„é¡¹ç›®ç®¡ç†**ï¼šé¡¹ç›®åˆ›å»ºã€ä»»åŠ¡å…³è”ã€è¿›åº¦è·Ÿè¸ªã€è®°å½•ç®¡ç†
- **å¤šç»´åº¦æ•°æ®åˆ†æ**ï¼šä»»åŠ¡ç»Ÿè®¡ã€é¡¹ç›®ç»Ÿè®¡ã€è¶‹åŠ¿åˆ†æå’Œæ´»åŠ¨çƒ­åŠ›å›¾
- **çµæ´»çš„è§†å›¾æ¨¡å¼**ï¼šæ”¯æŒå››è±¡é™ã€çœ‹æ¿ã€æ—¥å†ã€ç”˜ç‰¹å›¾å¤šç§å±•ç¤ºæ¨¡å¼
- **ç°ä»£åŒ–ç”¨æˆ·ä½“éªŒ**ï¼šå“åº”å¼è®¾è®¡ã€æµç•…åŠ¨ç”»ã€ç›´è§‚äº¤äº’

### 1.3 æŠ€æœ¯ç‰¹è‰²
- **å…¨æ ˆTypeScript**ï¼šå‰åç«¯ç»Ÿä¸€ç±»å‹å®‰å…¨
- **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**ï¼šReact 18 + Express + Prisma
- **é«˜æ€§èƒ½ä¼˜åŒ–**ï¼šæ•°æ®ç¼“å­˜ã€æ‡’åŠ è½½ã€æ™ºèƒ½æ›´æ–°
- **å¯è§†åŒ–ä¸°å¯Œ**ï¼šå¤šç§å›¾è¡¨ç±»å‹ã€çƒ­åŠ›å›¾ã€ç”˜ç‰¹å›¾ã€å®æ—¶ç»Ÿè®¡

## 2. ç³»ç»Ÿæ¶æ„è®¾è®¡

### 2.1 æ•´ä½“æ¶æ„æ¨¡å¼

é‡‡ç”¨**å‰åç«¯åˆ†ç¦»æ¶æ„**ç»“åˆ**åˆ†å±‚æ¶æ„æ¨¡å¼**ï¼Œç¡®ä¿ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§ã€å¯æ‰©å±•æ€§å’Œé«˜æ€§èƒ½ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ç”¨æˆ·ç•Œé¢å±‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   ä¸ªäººä¸»é¡µ      â”‚  â”‚   ä»»åŠ¡ç®¡ç†      â”‚  â”‚   é¡¹ç›®ç®¡ç†      â”‚ â”‚
â”‚  â”‚  (Dashboard)    â”‚  â”‚  (Task Mgmt)    â”‚  â”‚ (Project Mgmt)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   æ—¥ç¨‹ç®¡ç†      â”‚  â”‚   ç”¨æˆ·è®¤è¯      â”‚  â”‚   OKRç®¡ç†       â”‚ â”‚
â”‚  â”‚  (Calendar)     â”‚  â”‚   (Auth)        â”‚  â”‚  (OKR Mgmt)     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        APIç½‘å…³å±‚                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   è®¤è¯è·¯ç”±      â”‚  â”‚   ä»»åŠ¡è·¯ç”±      â”‚  â”‚   é¡¹ç›®è·¯ç”±      â”‚ â”‚
â”‚  â”‚  /api/auth      â”‚  â”‚  /api/tasks     â”‚  â”‚ /api/projects   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   ç»Ÿè®¡è·¯ç”±      â”‚  â”‚   åˆ†ç±»è·¯ç”±      â”‚  â”‚   OKRè·¯ç”±       â”‚ â”‚
â”‚  â”‚  /api/stats     â”‚  â”‚ /api/categories â”‚  â”‚  /api/okr       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ä¸šåŠ¡é€»è¾‘å±‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   è®¤è¯æœåŠ¡      â”‚  â”‚   ä»»åŠ¡æœåŠ¡      â”‚  â”‚   é¡¹ç›®æœåŠ¡      â”‚ â”‚
â”‚  â”‚  AuthService    â”‚  â”‚  TaskService    â”‚  â”‚ ProjectService  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   ç»Ÿè®¡æœåŠ¡      â”‚  â”‚   åˆ†ç±»æœåŠ¡      â”‚  â”‚   OKRæœåŠ¡       â”‚ â”‚
â”‚  â”‚  StatsService   â”‚  â”‚ CategoryService â”‚  â”‚  OKRService     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®è®¿é—®å±‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   ç”¨æˆ·æ¨¡å‹      â”‚  â”‚   ä»»åŠ¡æ¨¡å‹      â”‚  â”‚   é¡¹ç›®æ¨¡å‹      â”‚ â”‚
â”‚  â”‚   User Model    â”‚  â”‚   Task Model    â”‚  â”‚ Project Model   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   åˆ†ç±»æ¨¡å‹      â”‚  â”‚   è®°å½•æ¨¡å‹      â”‚  â”‚   OKRæ¨¡å‹       â”‚ â”‚
â”‚  â”‚ Category Model  â”‚  â”‚  Note Model     â”‚  â”‚  OKR Model      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•°æ®å­˜å‚¨å±‚                           â”‚
â”‚                      SQLite Database                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æ¶æ„ç‰¹ç‚¹
- **é«˜å†…èšä½è€¦åˆ**ï¼šå„å±‚èŒè´£æ˜ç¡®ï¼Œä¾èµ–å…³ç³»æ¸…æ™°
- **å¯æ‰©å±•æ€§å¼º**ï¼šæ”¯æŒæ°´å¹³æ‰©å±•å’ŒåŠŸèƒ½æ¨¡å—åŒ–
- **æ€§èƒ½ä¼˜åŒ–**ï¼šå¤šçº§ç¼“å­˜ã€æ•°æ®é¢„åŠ è½½ã€æ™ºèƒ½æ›´æ–°
- **å®‰å…¨å¯é **ï¼šJWTè®¤è¯ã€æ•°æ®éªŒè¯ã€é”™è¯¯å¤„ç†

## 3. æŠ€æœ¯æ ˆè¯¦è§£

### 3.1 å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | é€‰æ‹©ç†ç”± |
|------|------|------|----------|
| **React** | 18.x | UIæ¡†æ¶ | ç»„ä»¶åŒ–å¼€å‘ã€è™šæ‹ŸDOMã€ç”Ÿæ€ä¸°å¯Œ |
| **TypeScript** | 5.x | å¼€å‘è¯­è¨€ | ç±»å‹å®‰å…¨ã€IDEæ”¯æŒã€ä»£ç è´¨é‡ |
| **Vite** | 5.x | æ„å»ºå·¥å…· | å¿«é€Ÿçƒ­æ›´æ–°ã€ESæ¨¡å—ã€æ’ä»¶ç”Ÿæ€ |
| **Zustand** | 4.x | çŠ¶æ€ç®¡ç† | è½»é‡çº§ã€ç®€å•æ˜“ç”¨ã€TypeScriptå‹å¥½ |
| **Tailwind CSS** | 3.x | æ ·å¼æ¡†æ¶ | åŸå­åŒ–CSSã€å¿«é€Ÿå¼€å‘ã€å“åº”å¼ |
| **React Router** | 6.x | è·¯ç”±ç®¡ç† | å£°æ˜å¼è·¯ç”±ã€ä»£ç åˆ†å‰²ã€åµŒå¥—è·¯ç”± |
| **Axios** | 1.x | HTTPå®¢æˆ·ç«¯ | è¯·æ±‚æ‹¦æˆªã€å“åº”å¤„ç†ã€é”™è¯¯ç»Ÿä¸€å¤„ç† |
| **date-fns** | 2.x | æ—¥æœŸå¤„ç† | æ¨¡å—åŒ–ã€è½»é‡çº§ã€å›½é™…åŒ–æ”¯æŒ |
| **Recharts** | 2.x | å›¾è¡¨åº“ | ReactåŸç”Ÿã€å¯å®šåˆ¶ã€å“åº”å¼ |
| **marked** | 12.x | Markdownè§£æ | é«˜æ€§èƒ½ã€ç¬¦åˆæ ‡å‡†ã€æ‰©å±•æ€§å¼º ğŸ†• |
| **@uiw/react-md-editor** | 4.x | Markdownç¼–è¾‘ | åŠŸèƒ½ä¸°å¯Œã€å®æ—¶é¢„è§ˆã€Reactç»„ä»¶ ğŸ†• |
| **lunar-javascript** | 1.x | å†œå†æ”¯æŒ | ç²¾ç¡®å†œå†ç®—æ³•ã€èŠ‚å‡æ—¥æ”¯æŒ ğŸ†• |

### 3.2 åç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” | é€‰æ‹©ç†ç”± |
|------|------|------|----------|
| **Node.js** | 18.x | è¿è¡Œç¯å¢ƒ | JavaScriptå…¨æ ˆã€é«˜æ€§èƒ½ã€ç”Ÿæ€ä¸°å¯Œ |
| **Express** | 4.x | Webæ¡†æ¶ | è½»é‡çº§ã€ä¸­é—´ä»¶ä¸°å¯Œã€æ˜“äºæ‰©å±• |
| **TypeScript** | 5.x | å¼€å‘è¯­è¨€ | ç±»å‹å®‰å…¨ã€ä»£ç è´¨é‡ã€å¼€å‘æ•ˆç‡ |
| **Prisma** | 5.x | ORMæ¡†æ¶ | ç±»å‹å®‰å…¨ã€æ•°æ®åº“è¿ç§»ã€æŸ¥è¯¢ä¼˜åŒ– |
| **SQLite** | 3.x | æ•°æ®åº“ | é›¶é…ç½®ã€æ–‡ä»¶å­˜å‚¨ã€é€‚åˆä¸ªäººä½¿ç”¨ |
| **JWT** | 9.x | èº«ä»½è®¤è¯ | æ— çŠ¶æ€ã€è·¨åŸŸæ”¯æŒã€å®‰å…¨å¯é  |
| **bcryptjs** | 2.x | å¯†ç åŠ å¯† | å®‰å…¨å“ˆå¸Œã€ç›å€¼å¤„ç†ã€é˜²å½©è™¹è¡¨ |
| **CORS** | 2.x | è·¨åŸŸå¤„ç† | å®‰å…¨ç­–ç•¥ã€çµæ´»é…ç½®ã€æ ‡å‡†æ”¯æŒ |

### 3.3 å¼€å‘å·¥å…·é“¾

| å·¥å…· | ç”¨é€” | é…ç½®ç‰¹ç‚¹ |
|------|------|----------|
| **ESLint** | ä»£ç æ£€æŸ¥ | TypeScriptè§„åˆ™ã€React Hooksè§„åˆ™ |
| **Prettier** | ä»£ç æ ¼å¼åŒ– | ç»Ÿä¸€ä»£ç é£æ ¼ã€è‡ªåŠ¨æ ¼å¼åŒ– |
| **Husky** | Gité’©å­ | æäº¤å‰æ£€æŸ¥ã€ä»£ç è´¨é‡ä¿è¯ |
| **lint-staged** | æš‚å­˜åŒºæ£€æŸ¥ | åªæ£€æŸ¥å˜æ›´æ–‡ä»¶ã€æé«˜æ•ˆç‡ |

## 4. åŠŸèƒ½æ¨¡å—è®¾è®¡

### 4.1 ç”¨æˆ·è®¤è¯æ¨¡å—

#### åŠŸèƒ½ç‰¹æ€§
- **ç”¨æˆ·æ³¨å†Œ**ï¼šç”¨æˆ·åã€é‚®ç®±ã€å¯†ç æ³¨å†Œ
- **ç”¨æˆ·ç™»å½•**ï¼šæ”¯æŒç”¨æˆ·å/é‚®ç®±ç™»å½•
- **JWTè®¤è¯**ï¼šæ— çŠ¶æ€ä»¤ç‰Œè®¤è¯
- **å¯†ç å®‰å…¨**ï¼šbcryptåŠ å¯†å­˜å‚¨

#### æŠ€æœ¯å®ç°
```typescript
// è®¤è¯æœåŠ¡æ¥å£
interface AuthService {
  register(userData: RegisterData): Promise<AuthResponse>
  login(credentials: LoginData): Promise<AuthResponse>
  verifyToken(token: string): Promise<User>
  refreshToken(token: string): Promise<string>
}
```

#### å®‰å…¨æªæ–½
- å¯†ç å¼ºåº¦éªŒè¯
- JWTä»¤ç‰Œè¿‡æœŸæœºåˆ¶
- è¯·æ±‚é¢‘ç‡é™åˆ¶
- è¾“å…¥æ•°æ®éªŒè¯

### 4.2 ä»»åŠ¡ç®¡ç†æ¨¡å—

#### æ ¸å¿ƒåŠŸèƒ½
- **ä»»åŠ¡CRUD**ï¼šåˆ›å»ºã€è¯»å–ã€æ›´æ–°ã€åˆ é™¤
- **ä¼˜å…ˆçº§ç®¡ç†**ï¼šé‡è¦æ€§ã€ç´§æ€¥æ€§åŒç»´åº¦
- **çŠ¶æ€ç®¡ç†**ï¼šå¾…åŠã€è¿›è¡Œä¸­ã€å·²å®Œæˆ
- **åˆ†ç±»ç®¡ç†**ï¼šè‡ªå®šä¹‰ä»»åŠ¡åˆ†ç±»
- **å­ä»»åŠ¡ç³»ç»Ÿ**ï¼šæ”¯æŒä»»åŠ¡å±‚æ¬¡åŒ–ç®¡ç†
- **ä»»åŠ¡å¤åˆ¶**ï¼šå¿«é€Ÿå¤åˆ¶ä»»åŠ¡å’Œå­ä»»åŠ¡
- **æ‹–æ‹½æ“ä½œ**ï¼šç›´è§‚çš„ä»»åŠ¡çŠ¶æ€/ä¼˜å…ˆçº§è°ƒæ•´

#### å››è±¡é™åˆ†ç±»
```typescript
interface TaskQuadrant {
  urgent: boolean      // ç´§æ€¥æ€§
  important: boolean   // é‡è¦æ€§
  quadrant: 1 | 2 | 3 | 4  // è±¡é™ç¼–å·
  color: string        // è±¡é™é¢œè‰²
  description: string  // è±¡é™æè¿°
}

// å››è±¡é™å®šä¹‰
const QUADRANTS = {
  1: { urgent: true,  important: true,  color: 'red',    description: 'ç´§æ€¥ä¸”é‡è¦' },
  2: { urgent: false, important: true,  color: 'blue',   description: 'é‡è¦ä½†ä¸ç´§æ€¥' },
  3: { urgent: true,  important: false, color: 'yellow', description: 'ç´§æ€¥ä½†ä¸é‡è¦' },
  4: { urgent: false, important: false, color: 'gray',   description: 'æ—¢ä¸ç´§æ€¥ä¹Ÿä¸é‡è¦' }
}
```

#### å­ä»»åŠ¡ç³»ç»Ÿ
```typescript
// å­ä»»åŠ¡æ•°æ®ç»“æ„
interface SubtaskRelation {
  parentTaskId: number | null  // çˆ¶ä»»åŠ¡ID
  subtasks: Task[]            // å­ä»»åŠ¡åˆ—è¡¨
  maxDepth: 1                 // æœ€å¤§åµŒå¥—æ·±åº¦ï¼ˆé˜²æ­¢è¿‡åº¦åµŒå¥—ï¼‰
}

// å­ä»»åŠ¡ä¸šåŠ¡è§„åˆ™
const SUBTASK_RULES = {
  maxDepth: 1,                // åªå…è®¸ä¸€çº§å­ä»»åŠ¡
  inheritProject: true,       // å­ä»»åŠ¡ç»§æ‰¿çˆ¶ä»»åŠ¡çš„é¡¹ç›®
  statusIndependence: true,   // å­ä»»åŠ¡çŠ¶æ€ç‹¬ç«‹ç®¡ç†
  completionTracking: true    // è·Ÿè¸ªå­ä»»åŠ¡å®Œæˆè¿›åº¦
}
```

#### è§†å›¾æ¨¡å¼
1. **å››è±¡é™è§†å›¾**ï¼šæŒ‰ä¼˜å…ˆçº§çŸ©é˜µå±•ç¤º
2. **çœ‹æ¿è§†å›¾**ï¼šæŒ‰ä»»åŠ¡çŠ¶æ€å±•ç¤º
3. **åˆ—è¡¨è§†å›¾**ï¼šä¼ ç»Ÿåˆ—è¡¨å±•ç¤º
4. **æ—¥å†è§†å›¾**ï¼šæŒ‰æ—¥æœŸå±•ç¤ºä»»åŠ¡

### 4.3 é¡¹ç›®ç®¡ç†æ¨¡å—

#### æ ¸å¿ƒåŠŸèƒ½
- **é¡¹ç›®CRUD**ï¼šå®Œæ•´çš„é¡¹ç›®ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **çŠ¶æ€ç®¡ç†**ï¼šè§„åˆ’ä¸­ã€è¿›è¡Œä¸­ã€å·²å®Œæˆã€æš‚åœã€å·²å–æ¶ˆ
- **ä»»åŠ¡å…³è”**ï¼šé¡¹ç›®ä¸ä»»åŠ¡çš„å¤šå¯¹å¤šå…³ç³»
- **è¿›åº¦è·Ÿè¸ª**ï¼šåŸºäºå…³è”ä»»åŠ¡çš„è‡ªåŠ¨è¿›åº¦è®¡ç®—
- **ç”˜ç‰¹å›¾å±•ç¤º**ï¼šæ—¶é—´è½´å¯è§†åŒ–é¡¹ç›®è¿›åº¦

#### é¡¹ç›®çŠ¶æ€æµè½¬
```typescript
type ProjectStatus = 'planning' | 'active' | 'completed' | 'on-hold' | 'cancelled'

// çŠ¶æ€æµè½¬è§„åˆ™
const PROJECT_STATUS_FLOW = {
  planning: ['active', 'cancelled'],
  active: ['completed', 'on-hold', 'cancelled'],
  'on-hold': ['active', 'cancelled'],
  completed: [], // ç»ˆæ€
  cancelled: []  // ç»ˆæ€
}
```

#### ç”˜ç‰¹å›¾ç»„ä»¶
```typescript
// ç”˜ç‰¹å›¾æ•°æ®ç»“æ„
interface GanttData {
  tasks: GanttTask[]
  startDate: Date
  endDate: Date
  totalDays: number
  dateRange: Date[]
}

interface GanttTask extends Task {
  startOffset: number    // ç›¸å¯¹å¼€å§‹ä½ç½®
  duration: number       // æŒç»­å¤©æ•°
  progress: number       // å®Œæˆè¿›åº¦
  calculatedStartDate: Date  // æ™ºèƒ½è®¡ç®—çš„å¼€å§‹æ—¶é—´
  calculatedEndDate: Date    // æˆªæ­¢æ—¶é—´
}
```

### 4.4 é¡¹ç›®è®°å½•æ¨¡å—

#### åŠŸèƒ½ç‰¹æ€§
- **Markdownç¼–è¾‘**ï¼šæ”¯æŒå®æ—¶é¢„è§ˆçš„Markdownç¼–è¾‘å™¨
- **è®°å½•ç±»å‹**ï¼šè®°å½•ã€æ€»ç»“ã€ä¼šè®®ã€é—®é¢˜ã€é‡Œç¨‹ç¢‘ã€åæ€
- **æ¨¡æ¿ç³»ç»Ÿ**ï¼šæ¯ç§ç±»å‹æä¾›ä¸“ä¸šæ¨¡æ¿
- **ç‰ˆæœ¬ç®¡ç†**ï¼šè®°å½•çš„åˆ›å»ºå’Œæ›´æ–°æ—¶é—´è·Ÿè¸ª

#### è®°å½•ç±»å‹å®šä¹‰
```typescript
type NoteType = 'note' | 'summary' | 'meeting' | 'issue' | 'milestone' | 'reflection'

// è®°å½•æ¨¡æ¿
const NOTE_TEMPLATES = {
  note: '# é¡¹ç›®è®°å½•\n\n## æ—¥æœŸ\n{date}\n\n## å†…å®¹\n\n## å¤‡æ³¨\n',
  summary: '# é¡¹ç›®æ€»ç»“\n\n## é¡¹ç›®æ¦‚è¿°\n\n## ä¸»è¦æˆæœ\n\n## é‡åˆ°çš„é—®é¢˜\n\n## ç»éªŒæ•™è®­\n\n## ä¸‹ä¸€æ­¥è®¡åˆ’\n',
  meeting: '# ä¼šè®®è®°å½•\n\n## ä¼šè®®ä¿¡æ¯\n- æ—¶é—´ï¼š{date}\n- å‚ä¸äººå‘˜ï¼š\n- ä¼šè®®ä¸»é¢˜ï¼š\n\n## è®¨è®ºå†…å®¹\n\n## å†³ç­–äº‹é¡¹\n\n## è¡ŒåŠ¨è®¡åˆ’\n',
  issue: '# é—®é¢˜è®°å½•\n\n## é—®é¢˜æè¿°\n\n## å½±å“èŒƒå›´\n\n## åŸå› åˆ†æ\n\n## è§£å†³æ–¹æ¡ˆ\n\n## é¢„é˜²æªæ–½\n',
  milestone: '# é‡Œç¨‹ç¢‘\n\n## é‡Œç¨‹ç¢‘åç§°\n\n## è¾¾æˆæ—¶é—´\n{date}\n\n## ä¸»è¦æˆæœ\n\n## å…³é”®æŒ‡æ ‡\n\n## ä¸‹ä¸€ä¸ªç›®æ ‡\n',
  reflection: '# é¡¹ç›®åæ€\n\n## åæ€ä¸»é¢˜\n\n## åšå¾—å¥½çš„åœ°æ–¹\n\n## éœ€è¦æ”¹è¿›çš„åœ°æ–¹\n\n## å­¦åˆ°çš„ç»éªŒ\n\n## æœªæ¥åº”ç”¨\n'
}
```

### 4.5 OKRç®¡ç†æ¨¡å—

#### æ ¸å¿ƒæ¦‚å¿µ
- **ç›®æ ‡(Objectives)**ï¼šå®šæ€§çš„ã€é¼“èˆäººå¿ƒçš„ç›®æ ‡
- **å…³é”®ç»“æœ(Key Results)**ï¼šé‡åŒ–çš„ã€å¯è¡¡é‡çš„ç»“æœ
- **èµ„æºéœ€æ±‚**ï¼šå®ç°ç›®æ ‡æ‰€éœ€çš„èµ„æº
- **æ‰§è¡Œè®¡åˆ’**ï¼šåˆ†é˜¶æ®µçš„æ‰§è¡Œç­–ç•¥
- **è¡ŒåŠ¨æ£€æŸ¥**ï¼šå®šæœŸæ£€æŸ¥å’Œè¯„ä¼°æœºåˆ¶

#### OKRæ•°æ®æ¨¡å‹
```typescript
interface OKRStructure {
  objective: {
    id: number
    title: string
    description: string
    status: 'draft' | 'active' | 'completed' | 'cancelled'
    progress: number // 0-100
  }
  
  // å››ä¸ªå¹³çº§ç»„ä»¶
  keyResults: KeyResult[]           // å…³é”®ç»“æœ
  resourceRequirements: Resource[]  // èµ„æºéœ€æ±‚
  executionPlans: ExecutionPlan[]   // æ‰§è¡Œè®¡åˆ’
  actionChecks: ActionCheck[]       // è¡ŒåŠ¨æ£€æŸ¥
}
```

### 4.6 æ•°æ®ç»Ÿè®¡æ¨¡å—

#### ç»Ÿè®¡ç»´åº¦
- **ä»»åŠ¡ç»Ÿè®¡**ï¼šæ€»æ•°ã€å®Œæˆç‡ã€çŠ¶æ€åˆ†å¸ƒã€é€¾æœŸæƒ…å†µ
- **é¡¹ç›®ç»Ÿè®¡**ï¼šé¡¹ç›®æ•°é‡ã€çŠ¶æ€åˆ†å¸ƒã€å®Œæˆç‡
- **æ—¶é—´ç»Ÿè®¡**ï¼šåˆ›å»ºè¶‹åŠ¿ã€å®Œæˆè¶‹åŠ¿ã€æ´»åŠ¨çƒ­åŠ›å›¾
- **åˆ†ç±»ç»Ÿè®¡**ï¼šå„åˆ†ç±»ä»»åŠ¡åˆ†å¸ƒ
- **å››è±¡é™ç»Ÿè®¡**ï¼šå„è±¡é™ä»»åŠ¡åˆ†å¸ƒ

#### å¯è§†åŒ–ç»„ä»¶
```typescript
// ç»Ÿè®¡å›¾è¡¨ç±»å‹
type ChartType = 
  | 'pie'           // é¥¼å›¾
  | 'bar'           // æŸ±çŠ¶å›¾
  | 'line'          // æŠ˜çº¿å›¾
  | 'heatmap'       // çƒ­åŠ›å›¾
  | 'area'          // é¢ç§¯å›¾
  | 'gantt'         // ç”˜ç‰¹å›¾

// çƒ­åŠ›å›¾æ•°æ®ç»“æ„
interface HeatmapData {
  date: string      // æ—¥æœŸ
  created: number   // åˆ›å»ºä»»åŠ¡æ•°
  completed: number // å®Œæˆä»»åŠ¡æ•°
  intensity: number // æ´»åŠ¨å¼ºåº¦
}
```

#### æ€§èƒ½ä¼˜åŒ–
- **æ•°æ®ç¼“å­˜**ï¼šå‰ç«¯ç¼“å­˜ç»Ÿè®¡æ•°æ®
- **å¢é‡æ›´æ–°**ï¼šåªæ›´æ–°å˜åŒ–çš„æ•°æ®
- **æ‡’åŠ è½½**ï¼šæŒ‰éœ€åŠ è½½å›¾è¡¨ç»„ä»¶
- **é˜²æŠ–å¤„ç†**ï¼šé¿å…é¢‘ç¹è¯·æ±‚

### 4.7 æ—¥ç¨‹ç®¡ç†æ¨¡å—

#### æ ¸å¿ƒåŠŸèƒ½
- **æœˆè§†å›¾æ—¥å†**ï¼šä»¥æœˆä¸ºå•ä½å±•ç¤ºä»»åŠ¡å®‰æ’
- **ä»»åŠ¡æŒ‰æ—¥æœŸåˆ†ç»„**ï¼šè‡ªåŠ¨å°†ä»»åŠ¡æŒ‰åˆ°æœŸæ—¥æœŸåˆ†ç»„æ˜¾ç¤º
- **å¿«é€Ÿä»»åŠ¡æ“ä½œ**ï¼šç‚¹å‡»æ—¥æœŸåˆ›å»ºä»»åŠ¡ï¼Œç‚¹å‡»ä»»åŠ¡ç¼–è¾‘
- **æœˆä»½å¯¼èˆª**ï¼šæ”¯æŒå‰åæœˆä»½åˆ‡æ¢å’Œå¿«é€Ÿå›åˆ°ä»Šå¤©
- **ä¼˜å…ˆçº§æ’åº**ï¼šæ¯æ—¥ä»»åŠ¡æŒ‰é‡è¦æ€§å’Œç´§æ€¥æ€§è‡ªåŠ¨æ’åº

#### æ—¥å†ç»„ä»¶æ¶æ„
```typescript
// æ—¥å†é¡µé¢ç»„ä»¶ç»“æ„
CalendarPage
â”œâ”€â”€ CalendarHeader    // æ—¥å†å¤´éƒ¨ï¼ˆæœˆä»½å¯¼èˆªï¼‰
â”œâ”€â”€ CalendarGrid      // æ—¥å†ç½‘æ ¼å®¹å™¨
â”‚   â””â”€â”€ CalendarDay   // å•æ—¥ç»„ä»¶ï¼ˆåŒ…å«ä»»åŠ¡åˆ—è¡¨ï¼‰
â””â”€â”€ TaskForm          // ä»»åŠ¡è¡¨å•å¼¹çª—

// æ—¥å†å·¥å…·å‡½æ•°
interface CalendarUtils {
  getMonthDays(year: number, month: number): Date[]
  groupTasksByDate(tasks: Task[]): Record<string, Task[]>
  formatDateKey(date: Date): string
  isToday(date: Date): boolean
  isCurrentMonth(date: Date, currentMonth: number): boolean
}
```

#### æ—¥å†æ•°æ®å¤„ç†
```typescript
// ä»»åŠ¡æŒ‰æ—¥æœŸåˆ†ç»„
const groupTasksByDate = (tasks: Task[]): Record<string, Task[]> => {
  const grouped: Record<string, Task[]> = {};
  
  tasks.forEach(task => {
    if (task.dueDate) {
      const dateKey = formatDateKey(new Date(task.dueDate));
      if (!grouped[dateKey]) {
        grouped[dateKey] = [];
      }
      grouped[dateKey].push(task);
    }
  });
  
  // å¯¹æ¯å¤©çš„ä»»åŠ¡æŒ‰ä¼˜å…ˆçº§æ’åº
  Object.keys(grouped).forEach(dateKey => {
    grouped[dateKey].sort((a, b) => {
      const getPriorityWeight = (task: Task) => {
        if (task.urgency && task.importance) return 4;
        if (task.urgency && !task.importance) return 3;
        if (!task.urgency && task.importance) return 2;
        return 1;
      };
      
      return getPriorityWeight(b) - getPriorityWeight(a);
    });
  });
  
  return grouped;
};
```

#### ç”¨æˆ·äº¤äº’è®¾è®¡
- **æ—¥æœŸç‚¹å‡»**ï¼šç‚¹å‡»ç©ºç™½æ—¥æœŸåˆ›å»ºè¯¥æ—¥ä»»åŠ¡
- **ä»»åŠ¡ç‚¹å‡»**ï¼šç‚¹å‡»ä»»åŠ¡å¡ç‰‡ç¼–è¾‘æˆ–åˆ é™¤ä»»åŠ¡
- **æœˆä»½å¯¼èˆª**ï¼šå·¦å³ç®­å¤´åˆ‡æ¢æœˆä»½ï¼Œ"ä»Šå¤©"æŒ‰é’®å¿«é€Ÿå›åˆ°å½“å‰æœˆ
- **ä»»åŠ¡é™åˆ¶**ï¼šæ¯æ—¥æœ€å¤šæ˜¾ç¤º3ä¸ªä»»åŠ¡ï¼Œè¶…å‡ºæ˜¾ç¤º"æ›´å¤š"æç¤º
- **çŠ¶æ€æ ‡è¯†**ï¼šä¸åŒé¢œè‰²å’Œå›¾æ ‡åŒºåˆ†ä»»åŠ¡çŠ¶æ€å’Œä¼˜å…ˆçº§

#### å“åº”å¼é€‚é…
```css
/* æ—¥å†ç½‘æ ¼å“åº”å¼ */
.calendar-grid {
  @apply grid grid-cols-7;
  @apply min-h-[600px];
}

.calendar-day {
  @apply min-h-[120px] border border-gray-200 p-2;
  @apply cursor-pointer hover:bg-gray-50 transition-colors;
}

/* ç§»åŠ¨ç«¯é€‚é… */
@media (max-width: 768px) {
  .calendar-day {
    @apply min-h-[100px] p-1;
  }
  
  .task-item {
    @apply text-xs px-1 py-0.5;
  }
}
```

### 4.5 ä¸ªäººä¸»é¡µæ¨¡å—

#### ä»ªè¡¨ç›˜ç»„ä»¶
- **ç»Ÿè®¡å¡ç‰‡**ï¼šæ ¸å¿ƒæŒ‡æ ‡å±•ç¤º
- **æ´»åŠ¨çƒ­åŠ›å›¾**ï¼šGitHubé£æ ¼çš„ä»»åŠ¡æ´»åŠ¨å›¾
- **è¶‹åŠ¿å›¾è¡¨**ï¼šä»»åŠ¡å®Œæˆè¶‹åŠ¿
- **å¿«æ·æ“ä½œ**ï¼šå¸¸ç”¨åŠŸèƒ½å…¥å£

#### å“åº”å¼è®¾è®¡
```css
/* å“åº”å¼å¸ƒå±€æ–­ç‚¹ */
.dashboard-grid {
  @apply grid gap-6;
  @apply grid-cols-1 md:grid-cols-2 lg:grid-cols-4;
  @apply grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-8; /* ç»Ÿè®¡å¡ç‰‡ */
}

/* çƒ­åŠ›å›¾å“åº”å¼ */
.heatmap-container {
  @apply w-full overflow-x-auto;
  min-height: 200px;
}
```

## 6. æ•°æ®æ¨¡å‹è®¾è®¡

### 6.1 æ•°æ®åº“è®¾è®¡

#### ç”¨æˆ·è¡¨ (User)
```prisma
model User {
  id        Int      @id @default(autoincrement())
  username  String   @unique
  email     String   @unique
  password  String   // bcryptåŠ å¯†
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  // å…³è”å…³ç³»
  tasks     Task[]
  categories Category[]
  
  @@map("users")
}
```

#### ä»»åŠ¡è¡¨ (Task)
```prisma
model Task {
  id          Int       @id @default(autoincrement())
  title       String
  description String?
  status      TaskStatus @default(PENDING)
  urgency     Boolean   @default(false)
  importance  Boolean   @default(false)
  dueDate     DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  
  // å¤–é”®å…³ç³»
  userId      Int
  user        User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  categoryId  Int?
  category    Category? @relation(fields: [categoryId], references: [id], onDelete: SetNull)
  
  // ç´¢å¼•ä¼˜åŒ–
  @@index([userId, status])
  @@index([userId, urgency, importance])
  @@index([createdAt])
  @@map("tasks")
}

enum TaskStatus {
  PENDING     // å¾…åŠ
  IN_PROGRESS // è¿›è¡Œä¸­
  COMPLETED   // å·²å®Œæˆ
}
```

#### åˆ†ç±»è¡¨ (Category)
```prisma
model Category {
  id        Int      @id @default(autoincrement())
  name      String
  color     String   @default("#3b82f6")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  
  // å¤–é”®å…³ç³»
  userId    Int
  user      User     @relation(fields: [userId], references: [id], onDelete: Cascade)
  tasks     Task[]
  
  // å”¯ä¸€çº¦æŸ
  @@unique([userId, name])
  @@map("categories")
}
```

#### é¡¹ç›®è¡¨ (Project) ğŸ†•
```prisma
model Project {
  id          Int       @id @default(autoincrement())
  title       String
  description String?
  status      String    @default("planning") // planning, active, completed, on_hold, cancelled
  startDate   DateTime?
  endDate     DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  
  // å…³è”å…³ç³»
  userId      Int
  user        User      @relation(fields: [userId], references: [id], onDelete: Cascade)
  tasks       Task[]    // é¡¹ç›®å…³è”çš„ä»»åŠ¡
  notes       ProjectNote[]
  objectives  Objective[]
  
  @@map("projects")
}
```

#### é¡¹ç›®è®°å½•è¡¨ (ProjectNote) ğŸ†•
```prisma
model ProjectNote {
  id          Int       @id @default(autoincrement())
  title       String
  content     String
  type        String    @default("note") // note, summary, meeting, issue, milestone, reflection
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  
  // å…³è”å…³ç³»
  projectId   Int
  project     Project   @relation(fields: [projectId], references: [id], onDelete: Cascade)
  
  @@map("project_notes")
}
```

#### OKRç›®æ ‡è¡¨ (Objective) ğŸ†•
```prisma
model Objective {
  id          Int       @id @default(autoincrement())
  title       String
  description String?
  status      String    @default("draft") // draft, active, completed, cancelled
  progress    Int       @default(0)
  startDate   DateTime?
  endDate     DateTime?
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  
  // å…³è”å…³ç³»
  projectId   Int
  project     Project   @relation(fields: [projectId], references: [id], onDelete: Cascade)
  keyResults  KeyResult[]
  
  @@map("objectives")
}
```

#### å…³é”®ç»“æœè¡¨ (KeyResult) ğŸ†•
```prisma
model KeyResult {
  id          Int       @id @default(autoincrement())
  title       String
  description String?
  status      String    @default("pending")
  currentValue Float    @default(0)
  targetValue  Float
  unit        String?
  weight      Int       @default(1)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  
  // å…³è”å…³ç³»
  objectiveId Int
  objective   Objective @relation(fields: [objectiveId], references: [id], onDelete: Cascade)
  
  @@map("key_results")
}
```

### 5.2 æ•°æ®å…³ç³»å›¾

```
User (1) â”€â”€â”€â”€â”€â”€â”€â”€ (N) Task
 â”‚                     â”‚
 â”‚                     â”‚
 â””â”€â”€ (1) â”€â”€â”€â”€â”€â”€â”€â”€ (N) Category
           â”‚
           â””â”€â”€ (1) â”€â”€â”€â”€â”€â”€â”€â”€ (N) Task
```

### 5.3 æ•°æ®è®¿é—®ä¼˜åŒ–

#### æŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥
```typescript
// ä»»åŠ¡æŸ¥è¯¢ä¼˜åŒ–
const getTasksWithStats = async (userId: number) => {
  return await prisma.task.findMany({
    where: { userId },
    include: {
      category: {
        select: { id: true, name: true, color: true }
      }
    },
    orderBy: [
      { urgency: 'desc' },
      { importance: 'desc' },
      { createdAt: 'desc' }
    ]
  })
}

// ç»Ÿè®¡æŸ¥è¯¢ä¼˜åŒ–
const getTaskStats = async (userId: number) => {
  const [total, completed, pending, inProgress] = await Promise.all([
    prisma.task.count({ where: { userId } }),
    prisma.task.count({ where: { userId, status: 'COMPLETED' } }),
    prisma.task.count({ where: { userId, status: 'PENDING' } }),
    prisma.task.count({ where: { userId, status: 'IN_PROGRESS' } })
  ])
  
  return { total, completed, pending, inProgress }
}
```

## 7. APIæ¥å£è®¾è®¡

### 7.1 RESTful APIè§„èŒƒ

#### æ¥å£å‘½åè§„èŒƒ
```
GET    /api/resource          # è·å–èµ„æºåˆ—è¡¨
GET    /api/resource/:id      # è·å–å•ä¸ªèµ„æº
POST   /api/resource          # åˆ›å»ºèµ„æº
PUT    /api/resource/:id      # æ›´æ–°èµ„æº
DELETE /api/resource/:id      # åˆ é™¤èµ„æº
```

#### å“åº”æ ¼å¼æ ‡å‡†
```typescript
interface ApiResponse<T = any> {
  success: boolean
  data?: T
  message?: string
  error?: string
  timestamp: string
}

// æˆåŠŸå“åº”
{
  "success": true,
  "data": { ... },
  "timestamp": "2024-01-01T00:00:00.000Z"
}

// é”™è¯¯å“åº”
{
  "success": false,
  "error": "Resource not found",
  "message": "The requested task does not exist",
  "timestamp": "2024-01-01T00:00:00.000Z"
}
```

### 7.2 æ ¸å¿ƒAPIæ¥å£

#### è®¤è¯æ¥å£
```typescript
// POST /api/auth/register
interface RegisterRequest {
  username: string
  email: string
  password: string
}

interface AuthResponse {
  user: User
  token: string
  expiresIn: number
}

// POST /api/auth/login
interface LoginRequest {
  username: string  // æ”¯æŒç”¨æˆ·åæˆ–é‚®ç®±
  password: string
}
```

#### ä»»åŠ¡æ¥å£
```typescript
// GET /api/tasks
interface GetTasksQuery {
  status?: TaskStatus
  urgent?: boolean
  important?: boolean
  categoryId?: number
  page?: number
  limit?: number
}

// POST /api/tasks
interface CreateTaskRequest {
  title: string
  description?: string
  urgency: boolean
  importance: boolean
  dueDate?: string
  categoryId?: number
}

// PUT /api/tasks/:id
interface UpdateTaskRequest {
  title?: string
  description?: string
  status?: TaskStatus
  urgency?: boolean
  importance?: boolean
  dueDate?: string
  categoryId?: number
}
```

#### é¡¹ç›®æ¥å£ ğŸ†•
```typescript
// GET /api/projects
interface GetProjectsQuery {
  status?: ProjectStatus
  search?: string
}

// POST /api/projects
interface CreateProjectRequest {
  title: string
  description?: string
  status?: ProjectStatus
  startDate?: string
  endDate?: string
}
```

#### OKRæ¥å£ ğŸ†•
```typescript
// GET /api/projects/:projectId/objectives
interface GetObjectivesResponse {
  objectives: ObjectiveWithDetails[]
}

// POST /api/projects/:projectId/objectives
interface CreateObjectiveRequest {
  title: string
  description?: string
  startDate?: string
  endDate?: string
}

// POST /api/objectives/:id/key-results
interface CreateKeyResultRequest {
  title: string
  targetValue: number
  unit?: string
  weight?: number
}
```

#### ç»Ÿè®¡æ¥å£
```typescript
// GET /api/stats/overview
interface StatsOverview {
  taskStats: TaskStats
  quadrantStats: QuadrantStats
  categoryStats: CategoryStats[]
  recentActivity: ActivityData[]
}

// GET /api/stats/time-series
interface TimeSeriesQuery {
  period: 'day' | 'week' | 'month'
  startDate?: string
  endDate?: string
}

// GET /api/stats/heatmap
interface HeatmapQuery {
  year: number
}
```

### 7.3 é”™è¯¯å¤„ç†æœºåˆ¶

#### HTTPçŠ¶æ€ç è§„èŒƒ
```typescript
const HTTP_STATUS = {
  OK: 200,                    // æˆåŠŸ
  CREATED: 201,               // åˆ›å»ºæˆåŠŸ
  NO_CONTENT: 204,            // åˆ é™¤æˆåŠŸ
  BAD_REQUEST: 400,           // è¯·æ±‚å‚æ•°é”™è¯¯
  UNAUTHORIZED: 401,          // æœªè®¤è¯
  FORBIDDEN: 403,             // æ— æƒé™
  NOT_FOUND: 404,             // èµ„æºä¸å­˜åœ¨
  CONFLICT: 409,              // èµ„æºå†²çª
  INTERNAL_SERVER_ERROR: 500  // æœåŠ¡å™¨é”™è¯¯
}
```

#### é”™è¯¯å¤„ç†ä¸­é—´ä»¶
```typescript
const errorHandler = (err: Error, req: Request, res: Response, next: NextFunction) => {
  const statusCode = err.statusCode || 500
  const message = err.message || 'Internal Server Error'
  
  // è®°å½•é”™è¯¯æ—¥å¿—
  console.error(`[${new Date().toISOString()}] ${statusCode} - ${message}`)
  
  res.status(statusCode).json({
    success: false,
    error: message,
    timestamp: new Date().toISOString()
  })
}
```

## 8. å‰ç«¯æ¶æ„è®¾è®¡

### 8.1 ç»„ä»¶æ¶æ„

#### ç»„ä»¶åˆ†å±‚
```
src/
â”œâ”€â”€ components/           # é€šç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ ui/              # åŸºç¡€UIç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â”œâ”€â”€ Modal.tsx
â”‚   â”‚   â””â”€â”€ Loading.tsx
â”‚   â”œâ”€â”€ charts/          # å›¾è¡¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ PieChart.tsx
â”‚   â”‚   â”œâ”€â”€ BarChart.tsx
â”‚   â”‚   â””â”€â”€ Heatmap.tsx
â”‚   â”œâ”€â”€ task/            # ä»»åŠ¡ç›¸å…³ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ TaskCard.tsx
â”‚   â”‚   â”œâ”€â”€ TaskForm.tsx
â”‚   â”‚   â”œâ”€â”€ Quadrant.tsx
â”‚   â”‚   â””â”€â”€ KanbanBoard.tsx
â”‚   â””â”€â”€ calendar/        # æ—¥å†ç›¸å…³ç»„ä»¶
â”‚       â”œâ”€â”€ CalendarGrid.tsx
â”‚       â”œâ”€â”€ CalendarDay.tsx
â”‚       â”œâ”€â”€ CalendarDay.tsx
      â””â”€â”€ CalendarHeader.tsx
  â”œâ”€â”€ project/           # é¡¹ç›®ç›¸å…³ç»„ä»¶ ğŸ†•
  â”‚   â”œâ”€â”€ ProjectCard.tsx
  â”‚   â”œâ”€â”€ ProjectForm.tsx
  â”‚   â”œâ”€â”€ ProjectNotes.tsx
  â”‚   â”œâ”€â”€ GanttChart.tsx
  â”‚   â””â”€â”€ ProjectOKR.tsx
  â”œâ”€â”€ okr/               # OKRç›¸å…³ç»„ä»¶ ğŸ†•
  â”‚   â”œâ”€â”€ ObjectiveForm.tsx
  â”‚   â”œâ”€â”€ KeyResultForm.tsx
  â”‚   â””â”€â”€ ExecutionPlanForm.tsx
â”œâ”€â”€ pages/               # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ ProfilePage.tsx
â”‚   â”œâ”€â”€ TasksPage.tsx
â”‚   â”œâ”€â”€ CalendarPage.tsx
â”‚   â””â”€â”€ LoginPage.tsx
â””â”€â”€ layouts/             # å¸ƒå±€ç»„ä»¶
    â”œâ”€â”€ AppLayout.tsx
    â””â”€â”€ AuthLayout.tsx
```

#### ç»„ä»¶è®¾è®¡åŸåˆ™
- **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
- **å¯å¤ç”¨æ€§**ï¼šé€šç”¨ç»„ä»¶æ”¯æŒå¤šåœºæ™¯ä½¿ç”¨
- **å¯ç»„åˆæ€§**ï¼šå¤æ‚ç»„ä»¶ç”±ç®€å•ç»„ä»¶ç»„åˆè€Œæˆ
- **ç±»å‹å®‰å…¨**ï¼šæ‰€æœ‰ç»„ä»¶éƒ½æœ‰å®Œæ•´çš„TypeScriptç±»å‹

### 8.2 çŠ¶æ€ç®¡ç†

#### Zustand Storeè®¾è®¡
```typescript
// è®¤è¯çŠ¶æ€
interface AuthState {
  user: User | null
  token: string | null
  isAuthenticated: boolean
  login: (credentials: LoginData) => Promise<void>
  logout: () => void
  register: (userData: RegisterData) => Promise<void>
}

// ä»»åŠ¡çŠ¶æ€
interface TaskState {
  tasks: Task[]
  loading: boolean
  error: string | null
  fetchTasks: () => Promise<void>
  createTask: (task: CreateTaskData) => Promise<void>
  updateTask: (id: number, task: UpdateTaskData) => Promise<void>
  deleteTask: (id: number) => Promise<void>
}

// ç»Ÿè®¡çŠ¶æ€
interface StatsState {
  taskStats: TaskStats | null
  quadrantStats: QuadrantStats | null
  categoryStats: CategoryStats[]
  timeSeriesData: TimeSeriesData[]
  yearTimeSeriesData: TimeSeriesData[]
  selectedPeriod: 'day' | 'week' | 'month'
  selectedDate: Date
  loading: boolean
  heatmapLoading: boolean
  fetchAllStats: () => Promise<void>
  fetchYearHeatmapData: (year?: number) => Promise<void>
}
```

#### çŠ¶æ€æ›´æ–°ç­–ç•¥
- **ä¹è§‚æ›´æ–°**ï¼šUIç«‹å³å“åº”ï¼Œåå°åŒæ­¥
- **é”™è¯¯å›æ»š**ï¼šè¯·æ±‚å¤±è´¥æ—¶æ¢å¤åŸçŠ¶æ€
- **ç¼“å­˜æœºåˆ¶**ï¼šé¿å…é‡å¤è¯·æ±‚ç›¸åŒæ•°æ®
- **è®¢é˜…æ¨¡å¼**ï¼šç»„ä»¶è‡ªåŠ¨å“åº”çŠ¶æ€å˜åŒ–

### 8.3 è·¯ç”±è®¾è®¡

#### è·¯ç”±é…ç½®
```typescript
const routes = [
  {
    path: '/',
    element: <AppLayout />,
    children: [
      { index: true, element: <ProfilePage /> },
      { path: 'tasks', element: <TasksPage /> },
      { path: 'calendar', element: <CalendarPage /> },
      { path: 'settings', element: <SettingsPage /> }
    ]
  },
  {
    path: '/auth',
    element: <AuthLayout />,
    children: [
      { path: 'login', element: <LoginPage /> },
      { path: 'register', element: <RegisterPage /> }
    ]
  }
]
```

#### è·¯ç”±å®ˆå«
```typescript
const ProtectedRoute = ({ children }: { children: React.ReactNode }) => {
  const { isAuthenticated } = useAuthStore()
  
  if (!isAuthenticated) {
    return <Navigate to="/auth/login" replace />
  }
  
  return <>{children}</>
}
```

## 9. æ€§èƒ½ä¼˜åŒ–ç­–ç•¥

### 9.1 å‰ç«¯æ€§èƒ½ä¼˜åŒ–

#### ä»£ç åˆ†å‰²
```typescript
// è·¯ç”±çº§åˆ«çš„ä»£ç åˆ†å‰²
const ProfilePage = lazy(() => import('./pages/ProfilePage'))
const TasksPage = lazy(() => import('./pages/TasksPage'))

// ç»„ä»¶çº§åˆ«çš„ä»£ç åˆ†å‰²
const HeatmapChart = lazy(() => import('./components/charts/HeatmapChart'))
```

#### ç¼“å­˜ç­–ç•¥
```typescript
// APIå“åº”ç¼“å­˜
const apiCache = new Map<string, { data: any, timestamp: number }>()

const getCachedData = (key: string, ttl: number = 5 * 60 * 1000) => {
  const cached = apiCache.get(key)
  if (cached && Date.now() - cached.timestamp < ttl) {
    return cached.data
  }
  return null
}
```

#### è™šæ‹ŸåŒ–é•¿åˆ—è¡¨
```typescript
// ä½¿ç”¨react-windowè¿›è¡Œåˆ—è¡¨è™šæ‹ŸåŒ–
const VirtualizedTaskList = ({ tasks }: { tasks: Task[] }) => {
  return (
    <FixedSizeList
      height={600}
      itemCount={tasks.length}
      itemSize={80}
      itemData={tasks}
    >
      {TaskItem}
    </FixedSizeList>
  )
}
```

### 9.2 åç«¯æ€§èƒ½ä¼˜åŒ–

#### æ•°æ®åº“ä¼˜åŒ–
```sql
-- åˆ›å»ºå¤åˆç´¢å¼•
CREATE INDEX idx_tasks_user_status ON tasks(user_id, status);
CREATE INDEX idx_tasks_user_priority ON tasks(user_id, urgency, importance);
CREATE INDEX idx_tasks_created_at ON tasks(created_at);

-- æŸ¥è¯¢ä¼˜åŒ–
EXPLAIN QUERY PLAN 
SELECT * FROM tasks 
WHERE user_id = ? AND status = ? 
ORDER BY created_at DESC;
```

#### ç¼“å­˜æœºåˆ¶
```typescript
// Redisç¼“å­˜ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
const cache = {
  async get(key: string) {
    return await redis.get(key)
  },
  
  async set(key: string, value: any, ttl: number = 300) {
    await redis.setex(key, ttl, JSON.stringify(value))
  },
  
  async del(key: string) {
    await redis.del(key)
  }
}

// å†…å­˜ç¼“å­˜ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
const memoryCache = new Map<string, { data: any, expires: number }>()
```

#### è¯·æ±‚ä¼˜åŒ–
```typescript
// æ‰¹é‡æ“ä½œ
const batchUpdateTasks = async (updates: TaskUpdate[]) => {
  return await prisma.$transaction(
    updates.map(update => 
      prisma.task.update({
        where: { id: update.id },
        data: update.data
      })
    )
  )
}

// åˆ†é¡µæŸ¥è¯¢
const getPaginatedTasks = async (userId: number, page: number, limit: number) => {
  const offset = (page - 1) * limit
  
  const [tasks, total] = await Promise.all([
    prisma.task.findMany({
      where: { userId },
      skip: offset,
      take: limit,
      orderBy: { createdAt: 'desc' }
    }),
    prisma.task.count({ where: { userId } })
  ])
  
  return { tasks, total, page, limit }
}
```

## 10. å®‰å…¨è®¾è®¡

### 10.1 è®¤è¯å®‰å…¨

#### JWTå®‰å…¨é…ç½®
```typescript
const jwtConfig = {
  secret: process.env.JWT_SECRET,
  expiresIn: '24h',
  algorithm: 'HS256',
  issuer: 'task-manager',
  audience: 'task-manager-users'
}

// TokenéªŒè¯ä¸­é—´ä»¶
const authenticateToken = (req: Request, res: Response, next: NextFunction) => {
  const authHeader = req.headers['authorization']
  const token = authHeader && authHeader.split(' ')[1]
  
  if (!token) {
    return res.status(401).json({ error: 'Access token required' })
  }
  
  jwt.verify(token, jwtConfig.secret, (err, user) => {
    if (err) {
      return res.status(403).json({ error: 'Invalid token' })
    }
    req.user = user
    next()
  })
}
```

#### å¯†ç å®‰å…¨
```typescript
// å¯†ç å¼ºåº¦éªŒè¯
const validatePassword = (password: string): boolean => {
  const minLength = 8
  const hasUpperCase = /[A-Z]/.test(password)
  const hasLowerCase = /[a-z]/.test(password)
  const hasNumbers = /\d/.test(password)
  const hasSpecialChar = /[!@#$%^&*(),.?":{}|<>]/.test(password)
  
  return password.length >= minLength && 
         hasUpperCase && 
         hasLowerCase && 
         hasNumbers && 
         hasSpecialChar
}

// å¯†ç åŠ å¯†
const hashPassword = async (password: string): Promise<string> => {
  const saltRounds = 12
  return await bcrypt.hash(password, saltRounds)
}
```

### 10.2 æ•°æ®å®‰å…¨

#### è¾“å…¥éªŒè¯
```typescript
// ä½¿ç”¨Joiè¿›è¡Œæ•°æ®éªŒè¯
const taskSchema = Joi.object({
  title: Joi.string().min(1).max(200).required(),
  description: Joi.string().max(1000).optional(),
  urgency: Joi.boolean().required(),
  importance: Joi.boolean().required(),
  dueDate: Joi.date().iso().optional(),
  categoryId: Joi.number().integer().positive().optional()
})

const validateTask = (data: any) => {
  const { error, value } = taskSchema.validate(data)
  if (error) {
    throw new Error(`Validation error: ${error.details[0].message}`)
  }
  return value
}
```

#### SQLæ³¨å…¥é˜²æŠ¤
```typescript
// ä½¿ç”¨Prisma ORMè‡ªåŠ¨é˜²æŠ¤SQLæ³¨å…¥
const getUserTasks = async (userId: number, status?: string) => {
  return await prisma.task.findMany({
    where: {
      userId,
      ...(status && { status: status as TaskStatus })
    }
  })
}
```

### 10.3 APIå®‰å…¨

#### è¯·æ±‚é™åˆ¶
```typescript
// ä½¿ç”¨express-rate-limit
const rateLimiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15åˆ†é’Ÿ
  max: 100, // æœ€å¤š100ä¸ªè¯·æ±‚
  message: 'Too many requests from this IP',
  standardHeaders: true,
  legacyHeaders: false
})

// ç™»å½•æ¥å£ç‰¹æ®Šé™åˆ¶
const loginLimiter = rateLimit({
  windowMs: 15 * 60 * 1000,
  max: 5, // æœ€å¤š5æ¬¡ç™»å½•å°è¯•
  skipSuccessfulRequests: true
})
```

#### CORSé…ç½®
```typescript
const corsOptions = {
  origin: process.env.NODE_ENV === 'production' 
    ? ['https://yourdomain.com'] 
    : ['http://localhost:3000', 'http://localhost:5173'],
  credentials: true,
  optionsSuccessStatus: 200
}

app.use(cors(corsOptions))
```

## 10. éƒ¨ç½²æ¶æ„

### 10.1 å¼€å‘ç¯å¢ƒ

#### æœ¬åœ°å¼€å‘é…ç½®
```yaml
# docker-compose.dev.yml
version: '3.8'
services:
  frontend:
    build: ./frontend
    ports:
      - "5173:5173"
    volumes:
      - ./frontend:/app
      - /app/node_modules
    environment:
      - VITE_API_URL=http://localhost:5000/api
  
  backend:
    build: ./backend
    ports:
      - "5000:5000"
    volumes:
      - ./backend:/app
      - /app/node_modules
    environment:
      - NODE_ENV=development
      - DATABASE_URL=file:./dev.db
      - JWT_SECRET=dev-secret-key
```

### 10.2 ç”Ÿäº§ç¯å¢ƒ

#### éƒ¨ç½²æ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CDN/Nginx     â”‚    â”‚   Load Balancer â”‚    â”‚   Database      â”‚
â”‚  (Static Files) â”‚    â”‚   (API Gateway) â”‚    â”‚  (PostgreSQL)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend      â”‚    â”‚   Backend       â”‚    â”‚   Redis Cache   â”‚
â”‚  (Vercel/Netlify)â”‚   â”‚  (Railway/Render)â”‚   â”‚  (Upstash)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç¯å¢ƒé…ç½®
```bash
# ç”Ÿäº§ç¯å¢ƒå˜é‡
NODE_ENV=production
DATABASE_URL=postgresql://user:pass@host:5432/dbname
JWT_SECRET=super-secure-secret-key
REDIS_URL=redis://user:pass@host:6379
CORS_ORIGIN=https://yourdomain.com
```

### 10.3 CI/CDæµç¨‹

#### GitHub Actionsé…ç½®
```yaml
# .github/workflows/deploy.yml
name: Deploy to Production

on:
  push:
    branches: [main]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - run: npm ci
      - run: npm run test
      - run: npm run lint

  deploy-frontend:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: npm ci
      - run: npm run build
      - uses: vercel/action@v1
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}

  deploy-backend:
    needs: test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: npm ci
      - run: npm run build
      - uses: railway/action@v1
        with:
          railway-token: ${{ secrets.RAILWAY_TOKEN }}
```

## 11. ç›‘æ§ä¸ç»´æŠ¤

### 11.1 æ€§èƒ½ç›‘æ§

#### å‰ç«¯ç›‘æ§
```typescript
// æ€§èƒ½æŒ‡æ ‡æ”¶é›†
const performanceObserver = new PerformanceObserver((list) => {
  for (const entry of list.getEntries()) {
    if (entry.entryType === 'navigation') {
      console.log('Page Load Time:', entry.loadEventEnd - entry.loadEventStart)
    }
  }
})

performanceObserver.observe({ entryTypes: ['navigation', 'measure'] })

// é”™è¯¯ç›‘æ§
window.addEventListener('error', (event) => {
  console.error('JavaScript Error:', {
    message: event.message,
    filename: event.filename,
    lineno: event.lineno,
    colno: event.colno,
    error: event.error
  })
})
```

#### åç«¯ç›‘æ§
```typescript
// APIå“åº”æ—¶é—´ç›‘æ§
const responseTimeMiddleware = (req: Request, res: Response, next: NextFunction) => {
  const start = Date.now()
  
  res.on('finish', () => {
    const duration = Date.now() - start
    console.log(`${req.method} ${req.path} - ${res.statusCode} - ${duration}ms`)
  })
  
  next()
}

// å¥åº·æ£€æŸ¥ç«¯ç‚¹
app.get('/health', (req, res) => {
  res.json({
    status: 'healthy',
    timestamp: new Date().toISOString(),
    uptime: process.uptime(),
    memory: process.memoryUsage()
  })
})
```

### 11.2 æ—¥å¿—ç®¡ç†

#### ç»“æ„åŒ–æ—¥å¿—
```typescript
// ä½¿ç”¨winstonè¿›è¡Œæ—¥å¿—ç®¡ç†
const logger = winston.createLogger({
  level: 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.errors({ stack: true }),
    winston.format.json()
  ),
  transports: [
    new winston.transports.File({ filename: 'error.log', level: 'error' }),
    new winston.transports.File({ filename: 'combined.log' })
  ]
})

// è¯·æ±‚æ—¥å¿—ä¸­é—´ä»¶
const requestLogger = (req: Request, res: Response, next: NextFunction) => {
  logger.info('Request', {
    method: req.method,
    url: req.url,
    ip: req.ip,
    userAgent: req.get('User-Agent')
  })
  next()
}
```

## 12. æ‰©å±•è§„åˆ’

### 12.1 åŠŸèƒ½æ‰©å±•

#### çŸ­æœŸè§„åˆ’ï¼ˆ1-3ä¸ªæœˆï¼‰
- **ä»»åŠ¡æé†’åŠŸèƒ½**ï¼šé‚®ä»¶/æµè§ˆå™¨é€šçŸ¥
- **æ•°æ®å¯¼å…¥å¯¼å‡º**ï¼šæ”¯æŒCSV/JSONæ ¼å¼
- **ä»»åŠ¡æ¨¡æ¿**ï¼šå¸¸ç”¨ä»»åŠ¡æ¨¡æ¿ç®¡ç†
- **æ ‡ç­¾ç³»ç»Ÿ**ï¼šå¤šæ ‡ç­¾ä»»åŠ¡åˆ†ç±»

#### ä¸­æœŸè§„åˆ’ï¼ˆ3-6ä¸ªæœˆï¼‰
- **å›¢é˜Ÿåä½œ**ï¼šå¤šç”¨æˆ·ä»»åŠ¡å…±äº«
- **ç§»åŠ¨ç«¯åº”ç”¨**ï¼šReact Nativeå¼€å‘
- **ç¦»çº¿æ”¯æŒ**ï¼šPWA + Service Worker
- **é«˜çº§ç»Ÿè®¡**ï¼šæ›´å¤šå›¾è¡¨ç±»å‹å’Œåˆ†æç»´åº¦

#### é•¿æœŸè§„åˆ’ï¼ˆ6-12ä¸ªæœˆï¼‰
- **AIæ™ºèƒ½æ¨è**ï¼šä»»åŠ¡ä¼˜å…ˆçº§æ™ºèƒ½å»ºè®®
- **è¯­éŸ³è¾“å…¥**ï¼šè¯­éŸ³åˆ›å»ºä»»åŠ¡
- **ç¬¬ä¸‰æ–¹é›†æˆ**ï¼šæ—¥å†ã€é‚®ä»¶ç­‰ç³»ç»Ÿé›†æˆ
- **ä¼ä¸šç‰ˆåŠŸèƒ½**ï¼šæƒé™ç®¡ç†ã€å®¡æ‰¹æµç¨‹

### 12.2 æŠ€æœ¯å‡çº§

#### æ¶æ„æ¼”è¿›
```
å½“å‰æ¶æ„ â†’ å¾®æœåŠ¡æ¶æ„ â†’ äº‘åŸç”Ÿæ¶æ„
å•ä½“åº”ç”¨ â†’ æœåŠ¡æ‹†åˆ†   â†’ å®¹å™¨åŒ–éƒ¨ç½²
SQLite  â†’ PostgreSQL â†’ åˆ†å¸ƒå¼æ•°æ®åº“
```

#### æŠ€æœ¯æ ˆå‡çº§
- **å‰ç«¯**ï¼šReact 19ã€Next.jsã€Micro-frontends
- **åç«¯**ï¼šNestJSã€GraphQLã€gRPC
- **æ•°æ®åº“**ï¼šPostgreSQLã€Redisã€Elasticsearch
- **éƒ¨ç½²**ï¼šDockerã€Kubernetesã€Serverless

## 13. æ€»ç»“

### 13.1 æ¶æ„ä¼˜åŠ¿

1. **æŠ€æœ¯å…ˆè¿›æ€§**ï¼šé‡‡ç”¨ç°ä»£åŒ–æŠ€æœ¯æ ˆï¼Œä¿è¯ç³»ç»Ÿçš„å…ˆè¿›æ€§å’Œå¯ç»´æŠ¤æ€§
2. **æ‰©å±•æ€§å¼º**ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒåŠŸèƒ½å’Œæ€§èƒ½çš„æ¨ªå‘æ‰©å±•
3. **ç”¨æˆ·ä½“éªŒä½³**ï¼šå“åº”å¼è®¾è®¡ã€æµç•…åŠ¨ç”»ã€ç›´è§‚äº¤äº’
4. **æ€§èƒ½ä¼˜å¼‚**ï¼šå¤šçº§ç¼“å­˜ã€æ‡’åŠ è½½ã€è™šæ‹ŸåŒ–ç­‰ä¼˜åŒ–ç­–ç•¥
5. **å®‰å…¨å¯é **ï¼šå®Œå–„çš„è®¤è¯æˆæƒã€æ•°æ®éªŒè¯ã€é”™è¯¯å¤„ç†æœºåˆ¶

### 13.2 æœ€ä½³å®è·µ

1. **ä»£ç è´¨é‡**ï¼šTypeScriptç±»å‹å®‰å…¨ã€ESLintä»£ç æ£€æŸ¥ã€å•å…ƒæµ‹è¯•è¦†ç›–
2. **å¼€å‘æ•ˆç‡**ï¼šçƒ­æ›´æ–°ã€è‡ªåŠ¨åŒ–éƒ¨ç½²ã€ç»„ä»¶åŒ–å¼€å‘
3. **è¿ç»´å‹å¥½**ï¼šç»“æ„åŒ–æ—¥å¿—ã€å¥åº·æ£€æŸ¥ã€æ€§èƒ½ç›‘æ§
4. **æ–‡æ¡£å®Œå–„**ï¼šAPIæ–‡æ¡£ã€æ¶æ„æ–‡æ¡£ã€ä½¿ç”¨è¯´æ˜

### 13.3 æŒç»­æ”¹è¿›

æœ¬æ¶æ„è®¾è®¡éµå¾ªæ•æ·å¼€å‘åŸåˆ™ï¼Œæ”¯æŒå¿«é€Ÿè¿­ä»£å’ŒæŒç»­æ”¹è¿›ã€‚é€šè¿‡ç”¨æˆ·åé¦ˆã€æ€§èƒ½ç›‘æ§ã€æŠ€æœ¯è°ƒç ”ç­‰æ–¹å¼ï¼Œä¸æ–­ä¼˜åŒ–ç³»ç»Ÿæ¶æ„å’Œç”¨æˆ·ä½“éªŒï¼Œç¡®ä¿ç³»ç»Ÿå§‹ç»ˆä¿æŒç«äº‰åŠ›å’Œå…ˆè¿›æ€§ã€‚